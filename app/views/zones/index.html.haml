.zones_index
  .audio
    %audio{loop: true}
      %source{src: @initial_audio.wav}
  .main_video
    %video{width: 940, height: 528, controls: false, loop: true, autoplay: false, preload: "auto", poster: @initial_video.poster}
      %source{src: @initial_video.mp4, type: "video/mp4", class: "mp4"}
      %source{src: @initial_video.ogg, type: "video/ogg", class: "ogg"}

  .video_controls
    .video_loop
      .play_pause
        .play{class: @paused ? "" : "hidden"}
          &nbsp;
        .pause{class: @paused ? "hidden" : ""}
          .bar_one
            &nbsp;
          .bar_two
            &nbsp;
          .bar_three
            &nbsp;
      .full
        = link_to "Full", video_audio_url(video_slug: @initial_video.slug, audio_slug: @initial_audio.slug)

    .audio_vid_chooser
      .video_chooser.selected
        .clickers
          .prev
            &nbsp;
          .next
            &nbsp;
        .type
          Video:
        .title
          = @initial_video.name
      .audio_chooser
        .clickers
          .prev
            &nbsp;
          .next
            &nbsp;
        .type
          Audio:
        .title
          = @initial_audio.name
  .selector_holder
    .all_selectors
      .video_selector.fadeable
        %ul.selector
          - (@zones).each_with_index do |zone, index|
            %li{class: "item-#{index}" + ((index+1)%4 == 0 ? " last" : "") + (zone.video.id == @initial_video.id ? " selected" : "")}
              = image_tag zone.poster, data: {mp4: zone.mp4.to_s, ogg: zone.ogg.to_s, wav: zone.wav.to_s, vslug: zone.video_slug, aslug: zone.sound_clip_slug, vtitle: zone.video.name, atitle: zone.sound_clip.name}
      .audio_selector
        %ul.selector
          - (SoundClip.all).each_with_index do |clip, index|
            %li{class: "item-#{index}" + ((index+1)%4 == 0 ? " last" : "") + (@initial_audio.id == clip.id ? " selected" : "") + " #{clip.slug}", data: {wav: clip.wav.to_s, aslug: clip.slug}}
              = clip.name
